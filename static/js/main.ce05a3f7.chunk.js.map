{"version":3,"sources":["App.js","constants/apiUrl.js","components/LoginForm/index.js","context/CartContext.js","components/Header/index.js","components/Home/index.js","components/ProductCard/index.js","components/PrimeDealsSection/index.js","components/FiltersGroup/index.js","components/ProductsHeader/index.js","components/AllProductsSection/index.js","components/Products/index.js","components/SimilarProductItem/index.js","components/ProductItemDetails/index.js","components/EmptyCartView/index.js","components/CartItem/index.js","components/CartListView/index.js","components/CartSummary/index.js","components/Cart/index.js","components/NotFound/index.js","components/ProtectedRoute/index.js","components/RegistrationForm/index.js","index.js"],"names":["localCart","BASE_URL","LoginForm","state","username","password","showSubmitError","errorMsg","onChangeUsername","event","setState","target","value","onChangePassword","onSubmitSuccess","jwtToken","history","props","Cookies","set","expires","alert","JSON","parse","localStorage","getItem","arr","push","console","log","setItem","stringify","replace","onSubmitFailure","submitForm","a","preventDefault","userDetails","options","method","headers","body","fetch","response","json","data","ok","passingId","jwt_token","error_msg","renderPasswordField","className","htmlFor","type","id","onChange","placeholder","renderUsernameField","this","undefined","get","to","src","alt","onSubmit","style","width","Component","CartContext","React","createContext","cartList","removeAllCartItems","addCartItem","removeCartItem","incrementCartItemQuantity","decrementCartItemQuantity","Header","onClickLogout","pop","remove","renderCartItemsCount","Consumer","cartItemsCount","length","onClick","withRouter","Home","ProductCard","productData","title","brand","imageUrl","rating","price","apiStatusConstants","PrimeDealsSection","primeDeals","apiStatus","getPrimeDeals","Authorization","fetchedData","updatedData","products","map","product","image_url","status","renderPrimeDealsList","renderPrimeDealsFailureView","renderLoadingView","color","height","FiltersGroup","onEnterSearchInput","enterSearchInput","key","onChangeSearchInput","changeSearchInput","clearFilters","searchInput","onKeyDown","renderSearchInput","categoryOptions","category","changeCategory","activeCategoryId","categoryClassName","categoryId","name","ratingsList","changeRating","ratingClassName","activeRatingId","ratingId","ProductsHeader","sortbyOptions","activeOptionId","changeSortby","eachOption","optionId","displayText","AllProductsSection","productsList","getProducts","apiUrl","renderFailureView","renderProductsListView","renderAllProducts","Products","accessToken","SimilarProductItem","productDetails","ProductItemDetails","similarProductsData","quantity","getFormattedData","availability","description","totalReviews","total_reviews","getProductData","match","params","updatedSimilarProductsData","similar_products","eachSimilarProduct","testid","onDecrementQuantity","prevState","onIncrementQuantity","renderProductDetailsView","renderProductDetails","EmptyCartView","CartItem","cartItemDetails","onRemoveCartItem","totalPrice","size","CartListView","eachCartItem","CartSummary","total","forEach","Cart","showEmptyView","NotFound","ProtectedRoute","RegistrationForm","otp","nameInput","mailInput","showNameError","showMailError","isFormSubmitted","usernameInput","showUserNameError","passwordInput","confirmPasswordInput","showPasswordError","showWrongOTPError","showConfirmPasswordError","showUserExistsError","showMailExistsError","isValidOtp","sendOtp","mailId","result","randomOTP","onBlurMail","isValidMail","validateMail","isValidMailExists","validateMailExists","onChangeMail","renderMailField","onBlur","onBlurName","isValidName","validateName","onChangeName","onChangeUserName","onBlurUserName","isValidUserName","validateUserName","isValidUserExists","validateUserExists","onBlurPassword","isValidPassword","validatePassword","onChangeConfirmPassword","onBlurConfirmPassword","isValidConfirmPassword","validateConfirmPassword","renderNameField","renderUserNameField","renderConfirmPasswordField","url","isDigit","isChar","isSpecial","i","toLowerCase","toUpperCase","includes","validateOtp","document","getElementById","parseInt","sendAndValidateOTP","onSubmitForm","renderRegistrationForm","renderOtpPage","res","mailLength","otpText","slice","fontSize","cursor","onClickSubmitAnotherResponse","renderSubmissionSuccessView","cartStorage","App","addingCartToStorage","updatedCartList","updatedQuantity","find","filter","productObject","Provider","path","render","exact","component","ReactDOM","StrictMode","basename","process"],"mappings":"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","file":"static/js/main.ce05a3f7.chunk.js","sourcesContent":["import { Component } from \"react\";\nimport { Route, Switch, Redirect } from \"react-router-dom\";\n\nimport LoginForm from \"./components/LoginForm\";\nimport Home from \"./components/Home\";\nimport Products from \"./components/Products\";\nimport ProductItemDetails from \"./components/ProductItemDetails\";\nimport Cart from \"./components/Cart\";\nimport NotFound from \"./components/NotFound\";\nimport ProtectedRoute from \"./components/ProtectedRoute\";\nimport CartContext from \"./context/CartContext\";\nimport RegistrationForm from \"./components/RegistrationForm/index\";\nimport \"./App.css\";\n\nlet cartStorage = JSON.parse(localStorage.getItem(\"userNames\"));\nif (cartStorage !== null) {\n  console.log(cartStorage);\n  cartStorage = cartStorage[cartStorage.length - 1];\n} else {\n  cartStorage = \"\";\n}\nlet localCart;\nlocalCart = localStorage.getItem(cartStorage);\nif (localCart === null) {\n  localCart = [];\n} else {\n  localCart = JSON.parse(localStorage.getItem(cartStorage));\n}\nconsole.log(\"App started again\", localCart, cartStorage);\nclass App extends Component {\n  addingCartToStorage = (id) => {\n    cartStorage = `cartList_${id}`;\n    localCart = localStorage.getItem(cartStorage);\n    if (localCart === null) {\n      localCart = [];\n    } else {\n      localCart = JSON.parse(localCart);\n    }\n    this.setState({ cartList: localCart });\n  };\n  state = {\n    cartList: localCart,\n  };\n\n  removeAllCartItems = () => {\n    localStorage.setItem(cartStorage, JSON.stringify([]));\n    this.setState({ cartList: [] });\n    alert(\"Cart was made Empty\");\n  };\n\n  incrementCartItemQuantity = (id) => {\n    const { cartList } = this.state;\n    const updatedCartList = cartList.map((eachCartItem) => {\n      if (id === eachCartItem.id) {\n        const updatedQuantity = eachCartItem.quantity + 1;\n        return { ...eachCartItem, quantity: updatedQuantity };\n      }\n      return eachCartItem;\n    });\n    localStorage.setItem(cartStorage, JSON.stringify(updatedCartList));\n    this.setState({ cartList: updatedCartList });\n  };\n\n  decrementCartItemQuantity = (id) => {\n    const { cartList } = this.state;\n    const productObject = cartList.find(\n      (eachCartItem) => eachCartItem.id === id\n    );\n    if (productObject.quantity > 1) {\n      const updatedCartList = cartList.map((eachCartItem) => {\n        if (id === eachCartItem.id) {\n          const updatedQuantity = eachCartItem.quantity - 1;\n          return { ...eachCartItem, quantity: updatedQuantity };\n        }\n        return eachCartItem;\n      });\n      localStorage.setItem(cartStorage, JSON.stringify(updatedCartList));\n      this.setState({ cartList: updatedCartList });\n      alert(\"Cart has been updated\");\n    } else {\n      this.removeCartItem(id);\n    }\n  };\n\n  removeCartItem = (id) => {\n    const { cartList } = this.state;\n    const updatedCartList = cartList.filter(\n      (eachCartItem) => eachCartItem.id !== id\n    );\n    localStorage.setItem(cartStorage, JSON.stringify(updatedCartList));\n    this.setState({ cartList: updatedCartList });\n    alert(\"Removed from Cart\");\n  };\n\n  addCartItem = (product) => {\n    const { cartList } = this.state;\n    const productObject = cartList.find(\n      (eachCartItem) => eachCartItem.id === product.id\n    );\n\n    if (productObject) {\n      const updatedCartList = cartList.map((eachCartItem) => {\n        if (productObject.id === eachCartItem.id) {\n          const updatedQuantity = eachCartItem.quantity + product.quantity;\n          return { ...eachCartItem, quantity: updatedQuantity };\n        }\n\n        return eachCartItem;\n      });\n      console.log(updatedCartList);\n\n      localStorage.setItem(cartStorage, JSON.stringify(updatedCartList));\n      this.setState({ cartList: updatedCartList });\n      alert(\"Cart has been Updated\");\n    } else {\n      const updatedCartList = [...cartList, product];\n      localStorage.setItem(cartStorage, JSON.stringify(updatedCartList));\n\n      this.setState({ cartList: updatedCartList });\n      alert(\"Added To Cart\");\n    }\n  };\n  1;\n  render() {\n    const { cartList } = this.state;\n    console.log(cartList, cartStorage);\n    console.log(\"refreshes App\");\n    return (\n      <CartContext.Provider\n        value={{\n          cartList,\n          addCartItem: this.addCartItem,\n          removeCartItem: this.removeCartItem,\n          incrementCartItemQuantity: this.incrementCartItemQuantity,\n          decrementCartItemQuantity: this.decrementCartItemQuantity,\n          removeAllCartItems: this.removeAllCartItems,\n        }}\n      >\n        <Switch>\n          <Route\n            path=\"/login\"\n            render={(props) => (\n              <LoginForm {...props} passingId={this.addingCartToStorage} />\n            )}\n          />\n          <Route exact path=\"/register/\" component={RegistrationForm} />\n          <ProtectedRoute\n            exact\n            path=\"/products/:id\"\n            component={ProductItemDetails}\n          />\n\n          <ProtectedRoute exact path=\"/\" component={Home} />\n\n          <ProtectedRoute exact path=\"/products\" component={Products} />\n\n          <ProtectedRoute exact path=\"/cart\" component={Cart} />\n\n          <Route path=\"/not-found\" component={NotFound} />\n          <Redirect to=\"not-found\" />\n        </Switch>\n      </CartContext.Provider>\n    );\n  }\n}\n\nexport default App;\n","export const PRODUCTION_URL = \"https://fashionfitbackend.vercel.app/\";\r\nexport const TEST_URL = \"http://localhost:3011/\";\r\nexport const BASE_URL = PRODUCTION_URL;\r\n","import { Component } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport Cookies from \"js-cookie\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./index.css\";\r\nimport { BASE_URL } from \"../../constants/apiUrl\";\r\n\r\nclass LoginForm extends Component {\r\n  state = {\r\n    username: \"\",\r\n    password: \"\",\r\n    showSubmitError: false,\r\n    errorMsg: \"\",\r\n  };\r\n\r\n  onChangeUsername = (event) => {\r\n    this.setState({ username: event.target.value });\r\n  };\r\n\r\n  onChangePassword = (event) => {\r\n    this.setState({ password: event.target.value });\r\n  };\r\n\r\n  onSubmitSuccess = (jwtToken) => {\r\n    const { history } = this.props;\r\n    const { username } = this.state;\r\n\r\n    Cookies.set(\"jwt_token\", jwtToken, {\r\n      expires: 30,\r\n    });\r\n    alert(\"Successfully Logged In\");\r\n    let value = JSON.parse(localStorage.getItem(\"userNames\"));\r\n    if (value === null) {\r\n      let arr = [];\r\n      arr.push(\"cartList_\" + username);\r\n      console.log(arr, username, \"loggedIn\");\r\n      localStorage.setItem(\"userNames\", JSON.stringify(arr));\r\n    } else {\r\n      value.push(\"cartList_\" + username);\r\n      localStorage.setItem(\"userNames\", JSON.stringify(value));\r\n    }\r\n    history.replace(\"/\");\r\n  };\r\n\r\n  onSubmitFailure = (errorMsg) => {\r\n    this.setState({ showSubmitError: true, errorMsg });\r\n  };\r\n\r\n  submitForm = async (event) => {\r\n    event.preventDefault();\r\n    const { username, password } = this.state;\r\n    const userDetails = { username, password };\r\n    const url = BASE_URL + \"login/\";\r\n    const options = {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(userDetails),\r\n    };\r\n    const response = await fetch(url, options);\r\n    const data = await response.json();\r\n    if (response.ok === true) {\r\n      let value = localStorage.getItem(`cartList_${username}`);\r\n      console.log(value);\r\n      if (value === null) {\r\n        localStorage.setItem(`cartList_${username}`, JSON.stringify([]));\r\n      }\r\n      this.props.passingId(username);\r\n      this.onSubmitSuccess(data.jwt_token);\r\n    } else {\r\n      this.onSubmitFailure(data.error_msg);\r\n    }\r\n  };\r\n\r\n  renderPasswordField = () => {\r\n    const { password } = this.state;\r\n\r\n    return (\r\n      <>\r\n        <label className=\"input-label\" htmlFor=\"password\">\r\n          PASSWORD\r\n        </label>\r\n        <input\r\n          type=\"password\"\r\n          id=\"password\"\r\n          className=\"password-input-field\"\r\n          value={password}\r\n          onChange={this.onChangePassword}\r\n          placeholder=\"Password\"\r\n        />\r\n      </>\r\n    );\r\n  };\r\n\r\n  renderUsernameField = () => {\r\n    const { username } = this.state;\r\n\r\n    return (\r\n      <>\r\n        <label className=\"input-label\" htmlFor=\"username\">\r\n          USERNAME\r\n        </label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"username\"\r\n          className=\"username-input-field\"\r\n          value={username}\r\n          onChange={this.onChangeUsername}\r\n          placeholder=\"Username\"\r\n        />\r\n      </>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { showSubmitError, errorMsg } = this.state;\r\n    const jwtToken = Cookies.get(\"jwt_token\");\r\n\r\n    if (jwtToken !== undefined) {\r\n      return <Redirect to=\"/\" />;\r\n    }\r\n\r\n    return (\r\n      <div className=\"login-form-container\">\r\n        <img\r\n          src=\"https://assets.ccbp.in/frontend/react-js/nxt-trendz-logo-img.png\"\r\n          className=\"login-website-logo-mobile-img\"\r\n          alt=\"website logo\"\r\n        />\r\n        <img\r\n          src=\"https://assets.ccbp.in/frontend/react-js/nxt-trendz-login-img.png\"\r\n          className=\"login-img\"\r\n          alt=\"website login\"\r\n        />\r\n        <form className=\"form-container\" onSubmit={this.submitForm}>\r\n          <img\r\n            src=\"https://assets.ccbp.in/frontend/react-js/nxt-trendz-logo-img.png\"\r\n            className=\"login-website-logo-desktop-img\"\r\n            alt=\"website logo\"\r\n          />\r\n          <div className=\"input-container\">{this.renderUsernameField()}</div>\r\n          <div className=\"input-container\">{this.renderPasswordField()}</div>\r\n          <button type=\"submit\" className=\"login-button\">\r\n            Login\r\n          </button>\r\n          <Link to=\"/register\" type=\"button\" style={{ width: \"100%\" }}>\r\n            <button className=\"login-button\">Create new account</button>\r\n          </Link>\r\n          {showSubmitError && <p className=\"error-message\">*{errorMsg}</p>}\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LoginForm;\r\n","import React from \"react\";\r\n\r\nconst CartContext = React.createContext({\r\n  cartList: [],\r\n  removeAllCartItems: () => {},\r\n  addCartItem: () => {},\r\n  removeCartItem: () => {},\r\n  incrementCartItemQuantity: () => {},\r\n  decrementCartItemQuantity: () => {},\r\n});\r\n\r\nexport default CartContext;\r\n","import { Link, withRouter } from \"react-router-dom\";\r\nimport Cookies from \"js-cookie\";\r\n\r\nimport CartContext from \"../../context/CartContext\";\r\nimport { Component } from \"react\";\r\nimport \"./index.css\";\r\n\r\nclass Header extends Component {\r\n  onClickLogout = () => {\r\n    const { history } = this.props;\r\n    let value = JSON.parse(localStorage.getItem(\"userNames\"));\r\n\r\n    if (value === [] || value === null) {\r\n    } else {\r\n      value.pop();\r\n      localStorage.setItem(\"userNames\", JSON.stringify(value));\r\n    }\r\n    Cookies.remove(\"jwt_token\");\r\n    history.replace(\"/login\");\r\n    alert(\"Logged Out Successfully\");\r\n  };\r\n\r\n  renderCartItemsCount = () => (\r\n    <CartContext.Consumer>\r\n      {(value) => {\r\n        const { cartList } = value;\r\n        const cartItemsCount = cartList.length;\r\n\r\n        return (\r\n          <>\r\n            {cartItemsCount > 0 ? (\r\n              <span className=\"cart-count-badge\">{cartList.length}</span>\r\n            ) : null}\r\n          </>\r\n        );\r\n      }}\r\n    </CartContext.Consumer>\r\n  );\r\n\r\n  render() {\r\n    return (\r\n      <nav className=\"nav-header\">\r\n        <div className=\"nav-content\">\r\n          <div className=\"nav-bar-mobile-logo-container\">\r\n            <Link to=\"/\">\r\n              <img\r\n                className=\"website-logo\"\r\n                src=\"https://assets.ccbp.in/frontend/react-js/nxt-trendz-logo-img.png\"\r\n                alt=\"website logo\"\r\n              />\r\n            </Link>\r\n\r\n            <button\r\n              type=\"button\"\r\n              className=\"nav-mobile-btn\"\r\n              onClick={this.onClickLogout}\r\n            >\r\n              <img\r\n                src=\"https://assets.ccbp.in/frontend/react-js/nxt-trendz-log-out-img.png\"\r\n                alt=\"nav logout\"\r\n                className=\"nav-bar-img\"\r\n              />\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"nav-bar-large-container\">\r\n            <Link to=\"/\">\r\n              <img\r\n                className=\"website-logo\"\r\n                src=\"https://res.cloudinary.com/srinu879033/image/upload/c_lfill,h_39,w_165/v1636038018/FashionFit_bxjugo.jpg\"\r\n                alt=\"website logo\"\r\n              />\r\n            </Link>\r\n            <ul className=\"nav-menu\">\r\n              <li className=\"nav-menu-item\" id=\"0\">\r\n                <Link to=\"/\" className=\"nav-link\">\r\n                  Home\r\n                </Link>\r\n              </li>\r\n\r\n              <li className=\"nav-menu-item\" id=\"1\">\r\n                <Link to=\"/products\" className=\"nav-link\" id=\"1\">\r\n                  Products\r\n                </Link>\r\n              </li>\r\n\r\n              <li className=\"nav-menu-item\" id=\"2\">\r\n                <Link to=\"/cart\" className=\"nav-link\" id=\"2\">\r\n                  Cart\r\n                  {this.renderCartItemsCount()}\r\n                </Link>\r\n              </li>\r\n            </ul>\r\n            <button\r\n              type=\"button\"\r\n              className=\"logout-desktop-btn\"\r\n              onClick={this.onClickLogout}\r\n            >\r\n              Logout\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div className=\"nav-menu-mobile\">\r\n          <ul className=\"nav-menu-list-mobile\">\r\n            <li className=\"nav-menu-item-mobile\">\r\n              <Link to=\"/\" className=\"nav-link\">\r\n                <img\r\n                  src=\"https://assets.ccbp.in/frontend/react-js/nxt-trendz-home-icon.png\"\r\n                  alt=\"nav home\"\r\n                  className=\"nav-bar-img\"\r\n                  id=\"0\"\r\n                />\r\n              </Link>\r\n            </li>\r\n\r\n            <li className=\"nav-menu-item-mobile\">\r\n              <Link to=\"/products\" className=\"nav-link\">\r\n                <img\r\n                  src=\"https://assets.ccbp.in/frontend/react-js/nxt-trendz-products-icon.png\"\r\n                  alt=\"nav products\"\r\n                  className=\"nav-bar-img\"\r\n                  id=\"1\"\r\n                />\r\n              </Link>\r\n            </li>\r\n            <li className=\"nav-menu-item-mobile\">\r\n              <Link to=\"/cart\" className=\"nav-link\">\r\n                <img\r\n                  src=\"https://assets.ccbp.in/frontend/react-js/nxt-trendz-cart-icon.png\"\r\n                  alt=\"nav cart\"\r\n                  className=\"nav-bar-img\"\r\n                  id=\"2\"\r\n                />\r\n                {this.renderCartItemsCount()}\r\n              </Link>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </nav>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Header);\r\n","import Cookies from \"js-cookie\";\r\nimport { Redirect, Link } from \"react-router-dom\";\r\n\r\nimport Header from \"../Header\";\r\n\r\nimport \"./index.css\";\r\n\r\nconst Home = () => {\r\n  const accessToken = Cookies.get(\"jwt_token\");\r\n\r\n  if (accessToken === undefined) {\r\n    return <Redirect to=\"/login\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <div className=\"home-container\">\r\n        <div className=\"home-content\">\r\n          <h1 className=\"home-heading\">Clothes That Get YOU Noticed</h1>\r\n          <img\r\n            src=\"https://assets.ccbp.in/frontend/react-js/nxt-trendz-home-img.png\"\r\n            alt=\"clothes that get you noticed\"\r\n            className=\"home-mobile-img\"\r\n          />\r\n          <p className=\"home-description\">\r\n            Fashion is part of the daily air and it does not quite help that it\r\n            changes all the time. Clothes have always been a marker of the era\r\n            and we are in a revolution. Your fashion makes you been seen and\r\n            heard that way you are. So, celebrate the seasons new and exciting\r\n            fashion in your own way.\r\n          </p>\r\n          <Link to=\"/products\">\r\n            <button type=\"button\" className=\"shop-now-button\">\r\n              Shop Now\r\n            </button>\r\n          </Link>\r\n        </div>\r\n        <img\r\n          src=\"https://assets.ccbp.in/frontend/react-js/nxt-trendz-home-img.png\"\r\n          alt=\"clothes that get you noticed\"\r\n          className=\"home-desktop-img\"\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import { Link } from \"react-router-dom\";\r\n\r\nimport \"./index.css\";\r\n\r\nconst ProductCard = (props) => {\r\n  const { productData } = props;\r\n  const { title, brand, imageUrl, rating, price, id } = productData;\r\n\r\n  return (\r\n    <li className=\"product-item\">\r\n      <Link to={`/products/${id}`} className=\"link-item\">\r\n        <img src={imageUrl} alt=\"product\" className=\"thumbnail\" />\r\n        <h1 className=\"title\">{title}</h1>\r\n        <p className=\"brand\">by {brand}</p>\r\n        <div className=\"product-details\">\r\n          <p className=\"price\">Rs {price}/-</p>\r\n          <div className=\"rating-container\">\r\n            <p className=\"rating\">{rating}</p>\r\n            <img\r\n              src=\"https://assets.ccbp.in/frontend/react-js/star-img.png\"\r\n              alt=\"star\"\r\n              className=\"star\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </Link>\r\n    </li>\r\n  );\r\n};\r\nexport default ProductCard;\r\n","import { Component } from \"react\";\r\nimport Cookies from \"js-cookie\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport ProductCard from \"../ProductCard\";\r\nimport \"./index.css\";\r\n\r\nconst apiStatusConstants = {\r\n  initial: \"INITIAL\",\r\n  success: \"SUCCESS\",\r\n  failure: \"FAILURE\",\r\n  inProgress: \"IN_PROGRESS\",\r\n};\r\n\r\nclass PrimeDealsSection extends Component {\r\n  state = {\r\n    primeDeals: [],\r\n    apiStatus: apiStatusConstants.initial,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.getPrimeDeals();\r\n  }\r\n\r\n  getPrimeDeals = async () => {\r\n    this.setState({\r\n      apiStatus: apiStatusConstants.inProgress,\r\n    });\r\n\r\n    const jwtToken = Cookies.get(\"jwt_token\");\r\n\r\n    const apiUrl = \"https://apis.ccbp.in/products\";\r\n    const options = {\r\n      headers: {\r\n        Authorization: `Bearer ${jwtToken}`,\r\n      },\r\n      method: \"GET\",\r\n    };\r\n    const response = await fetch(apiUrl, options);\r\n    if (response.ok === true) {\r\n      const fetchedData = await response.json();\r\n      const updatedData = fetchedData.products.map((product) => ({\r\n        title: product.title,\r\n        brand: product.brand,\r\n        price: product.price,\r\n        id: product.id,\r\n        imageUrl: product.image_url,\r\n        rating: product.rating,\r\n      }));\r\n      this.setState({\r\n        primeDeals: updatedData,\r\n        apiStatus: apiStatusConstants.success,\r\n      });\r\n    }\r\n    if (response.status === 401) {\r\n      this.setState({\r\n        apiStatus: apiStatusConstants.failure,\r\n      });\r\n    }\r\n  };\r\n\r\n  renderPrimeDealsList = () => {\r\n    const { primeDeals } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        <h1 className=\"primedeals-list-heading\">Exclusive Prime Deals</h1>\r\n        {/* <ul className=\"products-list\">\r\n          {primeDeals.map((product) => (\r\n            <ProductCard productData={product} key={product.id} />\r\n          ))}\r\n        </ul> */}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  renderPrimeDealsFailureView = () => (\r\n    <img\r\n      src=\"https://assets.ccbp.in/frontend/react-js/exclusive-deals-banner-img.png\"\r\n      alt=\"register prime\"\r\n      className=\"register-prime-img\"\r\n    />\r\n  );\r\n\r\n  renderLoadingView = () => (\r\n    <div className=\"primedeals-loader-container\">\r\n      <Loader type=\"ThreeDots\" color=\"#0b69ff\" height=\"50\" width=\"50\" />\r\n    </div>\r\n  );\r\n\r\n  render() {\r\n    console.log(this.state.primeDeals, \"sexy\");\r\n    const { apiStatus } = this.state;\r\n    switch (apiStatus) {\r\n      case apiStatusConstants.success:\r\n        return this.renderPrimeDealsList();\r\n      case apiStatusConstants.failure:\r\n        return this.renderPrimeDealsFailureView();\r\n      case apiStatusConstants.inProgress:\r\n        return this.renderLoadingView();\r\n      default:\r\n        return null;\r\n    }\r\n  }\r\n}\r\n\r\nexport default PrimeDealsSection;\r\n","import { BsSearch } from \"react-icons/bs\";\r\nimport \"./index.css\";\r\n\r\nconst FiltersGroup = (props) => {\r\n  const renderRatingsFiltersList = () => {\r\n    const { ratingsList } = props;\r\n\r\n    return ratingsList.map((rating) => {\r\n      const { changeRating, activeRatingId } = props;\r\n      const onClickRatingItem = () => changeRating(rating.ratingId);\r\n\r\n      const ratingClassName =\r\n        activeRatingId === rating.ratingId ? `and-up active-rating` : `and-up`;\r\n\r\n      return (\r\n        <li\r\n          className=\"rating-item\"\r\n          key={rating.ratingId}\r\n          onClick={onClickRatingItem}\r\n        >\r\n          <img\r\n            src={rating.imageUrl}\r\n            alt={`rating ${rating.ratingId}`}\r\n            className=\"rating-img\"\r\n          />\r\n          <p className={ratingClassName}>& up</p>\r\n        </li>\r\n      );\r\n    });\r\n  };\r\n\r\n  const renderRatingsFilters = () => (\r\n    <div>\r\n      <h1 className=\"rating-heading\">Rating</h1>\r\n      <ul className=\"ratings-list\">{renderRatingsFiltersList()}</ul>\r\n    </div>\r\n  );\r\n\r\n  const renderCategoriesList = () => {\r\n    const { categoryOptions } = props;\r\n\r\n    return categoryOptions.map((category) => {\r\n      const { changeCategory, activeCategoryId } = props;\r\n      const onClickCategoryItem = () => changeCategory(category.categoryId);\r\n      const isActive = category.categoryId === activeCategoryId;\r\n      const categoryClassName = isActive\r\n        ? `category-name active-category-name`\r\n        : `category-name`;\r\n\r\n      return (\r\n        <li\r\n          className=\"category-item\"\r\n          key={category.categoryId}\r\n          onClick={onClickCategoryItem}\r\n        >\r\n          <p className={categoryClassName}>{category.name}</p>\r\n        </li>\r\n      );\r\n    });\r\n  };\r\n\r\n  const renderProductCategories = () => (\r\n    <>\r\n      <h1 className=\"category-heading\">Category</h1>\r\n      <ul className=\"categories-list\">{renderCategoriesList()}</ul>\r\n    </>\r\n  );\r\n\r\n  const onEnterSearchInput = (event) => {\r\n    const { enterSearchInput } = props;\r\n    if (event.key === \"Enter\") {\r\n      enterSearchInput();\r\n    }\r\n  };\r\n\r\n  const onChangeSearchInput = (event) => {\r\n    const { changeSearchInput } = props;\r\n    changeSearchInput(event.target.value);\r\n  };\r\n\r\n  const renderSearchInput = () => {\r\n    const { searchInput } = props;\r\n\r\n    return (\r\n      <div className=\"search-input-container\">\r\n        <input\r\n          value={searchInput}\r\n          type=\"search\"\r\n          className=\"search-input\"\r\n          placeholder=\"Search\"\r\n          onChange={onChangeSearchInput}\r\n          onKeyDown={onEnterSearchInput}\r\n        />\r\n        <BsSearch className=\"search-icon\" />\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const { clearFilters } = props;\r\n\r\n  return (\r\n    <div className=\"filters-group-container\">\r\n      {renderSearchInput()}\r\n      {renderProductCategories()}\r\n      {renderRatingsFilters()}\r\n      <button\r\n        type=\"button\"\r\n        className=\"clear-filters-btn\"\r\n        onClick={clearFilters}\r\n      >\r\n        Clear Filters\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FiltersGroup;\r\n","import { BsFilterRight } from \"react-icons/bs\";\r\nimport \"./index.css\";\r\n\r\nconst ProductsHeader = (props) => {\r\n  const onChangeSortby = (event) => {\r\n    const { changeSortby } = props;\r\n    changeSortby(event.target.value);\r\n  };\r\n\r\n  const { sortbyOptions, activeOptionId } = props;\r\n\r\n  return (\r\n    <div className=\"products-header\">\r\n      <h1 className=\"products-list-heading\">All Products</h1>\r\n      <div className=\"sort-by-container\">\r\n        <BsFilterRight className=\"sort-by-icon\" />\r\n        <p className=\"sort-by\">Sort by</p>\r\n        <select\r\n          className=\"sort-by-select\"\r\n          value={activeOptionId}\r\n          onChange={onChangeSortby}\r\n        >\r\n          {sortbyOptions.map((eachOption) => (\r\n            <option\r\n              key={eachOption.optionId}\r\n              value={eachOption.optionId}\r\n              className=\"select-option\"\r\n            >\r\n              {eachOption.displayText}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductsHeader;\r\n","import { Component } from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport Cookies from \"js-cookie\";\r\n\r\nimport FiltersGroup from \"../FiltersGroup\";\r\nimport ProductCard from \"../ProductCard\";\r\nimport ProductsHeader from \"../ProductsHeader\";\r\n\r\nimport \"./index.css\";\r\nimport { BASE_URL } from \"../../constants/apiUrl\";\r\n\r\nconst categoryOptions = [\r\n  {\r\n    name: \"Clothing\",\r\n    categoryId: \"1\",\r\n  },\r\n  {\r\n    name: \"Electronics\",\r\n    categoryId: \"2\",\r\n  },\r\n  {\r\n    name: \"Appliances\",\r\n    categoryId: \"3\",\r\n  },\r\n  {\r\n    name: \"Grocery\",\r\n    categoryId: \"4\",\r\n  },\r\n  {\r\n    name: \"Toys\",\r\n    categoryId: \"5\",\r\n  },\r\n];\r\n\r\nconst sortbyOptions = [\r\n  {\r\n    optionId: \"PRICE_HIGH\",\r\n    displayText: \"Price (High-Low)\",\r\n  },\r\n  {\r\n    optionId: \"PRICE_LOW\",\r\n    displayText: \"Price (Low-High)\",\r\n  },\r\n];\r\n\r\nconst ratingsList = [\r\n  {\r\n    ratingId: \"4\",\r\n    imageUrl:\r\n      \"https://assets.ccbp.in/frontend/react-js/rating-four-stars-img.png\",\r\n  },\r\n  {\r\n    ratingId: \"3\",\r\n    imageUrl:\r\n      \"https://assets.ccbp.in/frontend/react-js/rating-three-stars-img.png\",\r\n  },\r\n  {\r\n    ratingId: \"2\",\r\n    imageUrl:\r\n      \"https://assets.ccbp.in/frontend/react-js/rating-two-stars-img.png\",\r\n  },\r\n  {\r\n    ratingId: \"1\",\r\n    imageUrl:\r\n      \"https://assets.ccbp.in/frontend/react-js/rating-one-star-img.png\",\r\n  },\r\n];\r\n\r\nconst apiStatusConstants = {\r\n  initial: \"INITIAL\",\r\n  success: \"SUCCESS\",\r\n  failure: \"FAILURE\",\r\n  inProgress: \"IN_PROGRESS\",\r\n};\r\n\r\nclass AllProductsSection extends Component {\r\n  state = {\r\n    productsList: [],\r\n    apiStatus: apiStatusConstants.initial,\r\n    activeOptionId: sortbyOptions[0].optionId,\r\n    activeCategoryId: \"\",\r\n    searchInput: \"\",\r\n    activeRatingId: \"\",\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.getProducts();\r\n  }\r\n\r\n  getProducts = async () => {\r\n    this.setState({\r\n      apiStatus: apiStatusConstants.inProgress,\r\n    });\r\n    const jwtToken = Cookies.get(\"jwt_token\");\r\n    const { activeOptionId, activeCategoryId, searchInput, activeRatingId } =\r\n      this.state;\r\n    const apiUrl =\r\n      BASE_URL +\r\n      `products/?sort_by=${activeOptionId}&category=${activeCategoryId}&title_search=${searchInput}&rating=${activeRatingId}`;\r\n    const options = {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${jwtToken}`,\r\n      },\r\n    };\r\n\r\n    const response = await fetch(apiUrl, options);\r\n    if (response.ok) {\r\n      const fetchedData = await response.json();\r\n      const updatedData = fetchedData.products.map((product) => ({\r\n        title: product.title,\r\n        brand: product.brand,\r\n        price: product.price,\r\n        id: product.id,\r\n        imageUrl: product.image_url,\r\n        rating: product.rating,\r\n      }));\r\n      this.setState({\r\n        productsList: updatedData,\r\n        apiStatus: apiStatusConstants.success,\r\n      });\r\n    } else {\r\n      this.setState({\r\n        apiStatus: apiStatusConstants.failure,\r\n      });\r\n    }\r\n  };\r\n\r\n  renderLoadingView = () => (\r\n    <div className=\"products-loader-container\">\r\n      <Loader type=\"ThreeDots\" color=\"#0b69ff\" height=\"50\" width=\"50\" />\r\n    </div>\r\n  );\r\n\r\n  renderFailureView = () => (\r\n    <div className=\"products-error-view-container\">\r\n      <img\r\n        src=\"https://assets.ccbp.in/frontend/react-js/nxt-trendz/nxt-trendz-products-error-view.png\"\r\n        alt=\"products failure\"\r\n        className=\"products-failure-img\"\r\n      />\r\n      <h1 className=\"product-failure-heading-text\">\r\n        Oops! Something Went Wrong\r\n      </h1>\r\n      <p className=\"products-failure-description\">\r\n        We are having some trouble processing your request. Please try again.\r\n      </p>\r\n    </div>\r\n  );\r\n\r\n  changeSortby = (activeOptionId) => {\r\n    this.setState({ activeOptionId }, this.getProducts);\r\n  };\r\n\r\n  renderProductsListView = () => {\r\n    const { productsList, activeOptionId } = this.state;\r\n    const shouldShowProductsList = productsList.length > 0;\r\n\r\n    return shouldShowProductsList ? (\r\n      <div className=\"all-products-container\">\r\n        <ProductsHeader\r\n          activeOptionId={activeOptionId}\r\n          sortbyOptions={sortbyOptions}\r\n          changeSortby={this.changeSortby}\r\n        />\r\n        <ul className=\"products-list\">\r\n          {productsList.map((product) => (\r\n            <ProductCard productData={product} key={product.id} />\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    ) : (\r\n      <div className=\"no-products-view\">\r\n        <img\r\n          src=\"https://assets.ccbp.in/frontend/react-js/nxt-trendz/nxt-trendz-no-products-view.png\"\r\n          className=\"no-products-img\"\r\n          alt=\"no products\"\r\n        />\r\n        <h1 className=\"no-products-heading\">No Products Found</h1>\r\n        <p className=\"no-products-description\">\r\n          We could not find any products. Try other filters.\r\n        </p>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  renderAllProducts = () => {\r\n    const { apiStatus } = this.state;\r\n\r\n    switch (apiStatus) {\r\n      case apiStatusConstants.success:\r\n        return this.renderProductsListView();\r\n      case apiStatusConstants.failure:\r\n        return this.renderFailureView();\r\n      case apiStatusConstants.inProgress:\r\n        return this.renderLoadingView();\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  clearFilters = () => {\r\n    this.setState(\r\n      {\r\n        searchInput: \"\",\r\n        activeCategoryId: \"\",\r\n        activeRatingId: \"\",\r\n      },\r\n      this.getProducts\r\n    );\r\n  };\r\n\r\n  changeRating = (activeRatingId) => {\r\n    this.setState({ activeRatingId }, this.getProducts);\r\n  };\r\n\r\n  changeCategory = (activeCategoryId) => {\r\n    this.setState({ activeCategoryId }, this.getProducts);\r\n  };\r\n\r\n  enterSearchInput = () => {\r\n    this.getProducts();\r\n  };\r\n\r\n  changeSearchInput = (searchInput) => {\r\n    this.setState({ searchInput });\r\n  };\r\n\r\n  render() {\r\n    const { activeCategoryId, searchInput, activeRatingId } = this.state;\r\n\r\n    return (\r\n      <div className=\"all-products-section\">\r\n        <FiltersGroup\r\n          searchInput={searchInput}\r\n          categoryOptions={categoryOptions}\r\n          ratingsList={ratingsList}\r\n          changeSearchInput={this.changeSearchInput}\r\n          enterSearchInput={this.enterSearchInput}\r\n          activeCategoryId={activeCategoryId}\r\n          activeRatingId={activeRatingId}\r\n          changeCategory={this.changeCategory}\r\n          changeRating={this.changeRating}\r\n          clearFilters={this.clearFilters}\r\n        />\r\n        {this.renderAllProducts()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AllProductsSection;\r\n","import { Redirect } from \"react-router-dom\";\r\nimport Cookies from \"js-cookie\";\r\n\r\nimport Header from \"../Header\";\r\nimport PrimeDealsSection from \"../PrimeDealsSection\";\r\nimport AllProductsSection from \"../AllProductsSection\";\r\n\r\nimport \"./index.css\";\r\n\r\nconst Products = () => {\r\n  const accessToken = Cookies.get(\"jwt_token\");\r\n  console.log(\"This product component has been called\");\r\n  if (accessToken === undefined) {\r\n    return <Redirect to=\"/login\" />;\r\n  }\r\n  console.log(\"refreshed\");\r\n  return (\r\n    <>\r\n      <Header />\r\n      <div className=\"product-sections\">\r\n        <PrimeDealsSection />\r\n        <AllProductsSection />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Products;\r\n","import { Link } from \"react-router-dom\";\r\nimport \"./index.css\";\r\nconst SimilarProductItem = (props) => {\r\n  const { productDetails } = props;\r\n  const { title, brand, imageUrl, rating, price, id } = productDetails;\r\n  return (\r\n    <Link to={`/products/${id}`} className=\"link-item\">\r\n      <li className=\"similar-product-item\">\r\n        <img\r\n          src={imageUrl}\r\n          className=\"similar-product-image\"\r\n          alt={`similar product ${title}`}\r\n        />\r\n        <p className=\"similar-product-title\">{title}</p>\r\n        <p className=\"similar-products-brand\">by {brand}</p>\r\n        <div className=\"similar-product-price-rating-container\">\r\n          <p className=\"similar-product-price\">Rs {price}/-</p>\r\n          <div className=\"similar-product-rating-container\">\r\n            <p className=\"similar-product-rating\">{rating}</p>\r\n            <img\r\n              src=\"https://assets.ccbp.in/frontend/react-js/star-img.png\"\r\n              alt=\"star\"\r\n              className=\"similar-product-star\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </li>\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default SimilarProductItem;\r\n","import { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Cookies from \"js-cookie\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport { BsPlusSquare, BsDashSquare } from \"react-icons/bs\";\r\n\r\nimport CartContext from \"../../context/CartContext\";\r\n\r\nimport Header from \"../Header\";\r\nimport SimilarProductItem from \"../SimilarProductItem\";\r\n\r\nimport \"./index.css\";\r\nimport { BASE_URL } from \"../../constants/apiUrl\";\r\n\r\nconst apiStatusConstants = {\r\n  initial: \"INITIAL\",\r\n  success: \"SUCCESS\",\r\n  failure: \"FAILURE\",\r\n  inProgress: \"IN_PROGRESS\",\r\n};\r\nclass ProductItemDetails extends Component {\r\n  state = {\r\n    productData: {},\r\n    similarProductsData: [],\r\n    apiStatus: apiStatusConstants.initial,\r\n    quantity: 1,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.getProductData();\r\n  }\r\n\r\n  getFormattedData = (data) => ({\r\n    availability: data.availability,\r\n    brand: data.brand,\r\n    description: data.description,\r\n    id: data.id,\r\n    imageUrl: data.image_url,\r\n    price: data.price,\r\n    rating: data.rating,\r\n    title: data.title,\r\n    totalReviews: data.total_reviews,\r\n  });\r\n\r\n  getProductData = async () => {\r\n    const { match } = this.props;\r\n    const { params } = match;\r\n    const { id } = params;\r\n\r\n    this.setState({\r\n      apiStatus: apiStatusConstants.inProgress,\r\n    });\r\n    const jwtToken = Cookies.get(\"jwt_token\");\r\n    const apiUrl = BASE_URL + `products/${id}`;\r\n    const options = {\r\n      headers: {\r\n        Authorization: `Bearer ${jwtToken}`,\r\n      },\r\n      method: \"GET\",\r\n    };\r\n    const response = await fetch(apiUrl, options);\r\n    if (response.ok) {\r\n      const fetchedData = await response.json();\r\n      const updatedData = this.getFormattedData(fetchedData);\r\n      const updatedSimilarProductsData = fetchedData.similar_products.map(\r\n        (eachSimilarProduct) => this.getFormattedData(eachSimilarProduct)\r\n      );\r\n      this.setState({\r\n        productData: updatedData,\r\n        similarProductsData: updatedSimilarProductsData,\r\n        apiStatus: apiStatusConstants.success,\r\n      });\r\n    }\r\n    if (response.status === 404) {\r\n      this.setState({\r\n        apiStatus: apiStatusConstants.failure,\r\n      });\r\n    }\r\n  };\r\n\r\n  renderLoadingView = () => (\r\n    <div className=\"products-details-loader-container\" testid=\"loader\">\r\n      <Loader type=\"ThreeDots\" color=\"#0b69ff\" height=\"50\" width=\"50\" />\r\n    </div>\r\n  );\r\n\r\n  renderFailureView = () => (\r\n    <div className=\"product-details-error-view-container\">\r\n      <img\r\n        alt=\"error view\"\r\n        src=\"https://assets.ccbp.in/frontend/react-js/nxt-trendz-error-view-img.png\"\r\n        className=\"error-view-image\"\r\n      />\r\n      <h1 className=\"product-not-found-heading\">Product Not Found</h1>\r\n      <Link to=\"/products\">\r\n        <button type=\"button\" className=\"button\">\r\n          Continue Shopping\r\n        </button>\r\n      </Link>\r\n    </div>\r\n  );\r\n\r\n  onDecrementQuantity = () => {\r\n    const { quantity } = this.state;\r\n    if (quantity > 1) {\r\n      this.setState((prevState) => ({ quantity: prevState.quantity - 1 }));\r\n    }\r\n  };\r\n\r\n  onIncrementQuantity = () => {\r\n    this.setState((prevState) => ({ quantity: prevState.quantity + 1 }));\r\n  };\r\n\r\n  renderProductDetailsView = () => (\r\n    <CartContext.Consumer>\r\n      {(value) => {\r\n        const { productData, quantity, similarProductsData } = this.state;\r\n        const {\r\n          availability,\r\n          brand,\r\n          description,\r\n          imageUrl,\r\n          price,\r\n          rating,\r\n          title,\r\n          totalReviews,\r\n        } = productData;\r\n        const { addCartItem } = value;\r\n        const onClickAddToCart = () => {\r\n          addCartItem({ ...productData, quantity });\r\n        };\r\n\r\n        return (\r\n          <div className=\"product-details-success-view\">\r\n            <div className=\"product-details-container\">\r\n              <img src={imageUrl} alt=\"product\" className=\"product-image\" />\r\n              <div className=\"product\">\r\n                <h1 className=\"product-name\">{title}</h1>\r\n                <p className=\"price-details\">Rs {price}/-</p>\r\n                <div className=\"rating-and-reviews-count\">\r\n                  <div className=\"rating-container\">\r\n                    <p className=\"rating\">{rating}</p>\r\n                    <img\r\n                      src=\"https://assets.ccbp.in/frontend/react-js/star-img.png\"\r\n                      alt=\"star\"\r\n                      className=\"star\"\r\n                    />\r\n                  </div>\r\n                  <p className=\"reviews-count\">{totalReviews} Reviews</p>\r\n                </div>\r\n                <p className=\"product-description\">{description}</p>\r\n                <div className=\"label-value-container\">\r\n                  <p className=\"label\">Available:</p>\r\n                  <p className=\"value\">{availability}</p>\r\n                </div>\r\n                <div className=\"label-value-container\">\r\n                  <p className=\"label\">Brand:</p>\r\n                  <p className=\"value\">{brand}</p>\r\n                </div>\r\n                <hr className=\"horizontal-line\" />\r\n                <div className=\"quantity-container\">\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"quantity-controller-button\"\r\n                    onClick={this.onDecrementQuantity}\r\n                    testid=\"minus\"\r\n                  >\r\n                    <BsDashSquare className=\"quantity-controller-icon\" />\r\n                  </button>\r\n                  <p className=\"quantity\">{quantity}</p>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"quantity-controller-button\"\r\n                    onClick={this.onIncrementQuantity}\r\n                    testid=\"plus\"\r\n                  >\r\n                    <BsPlusSquare className=\"quantity-controller-icon\" />\r\n                  </button>\r\n                </div>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"button add-to-cart-btn\"\r\n                  onClick={onClickAddToCart}\r\n                >\r\n                  ADD TO CART\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <h1 className=\"similar-products-heading\">Similar Products</h1>\r\n            <ul className=\"similar-products-list\">\r\n              {similarProductsData.map((eachSimilarProduct) => (\r\n                <SimilarProductItem\r\n                  productDetails={eachSimilarProduct}\r\n                  key={eachSimilarProduct.id}\r\n                />\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        );\r\n      }}\r\n    </CartContext.Consumer>\r\n  );\r\n\r\n  renderProductDetails = () => {\r\n    const { apiStatus } = this.state;\r\n\r\n    switch (apiStatus) {\r\n      case apiStatusConstants.success:\r\n        return this.renderProductDetailsView();\r\n      case apiStatusConstants.failure:\r\n        return this.renderFailureView();\r\n      case apiStatusConstants.inProgress:\r\n        return this.renderLoadingView();\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <Header />\r\n        <div className=\"product-item-details-container\">\r\n          {this.renderProductDetails()}\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ProductItemDetails;\r\n","import { Link } from \"react-router-dom\";\r\n\r\nimport \"./index.css\";\r\n\r\nconst EmptyCartView = () => (\r\n  <div className=\"cart-empty-view-container\">\r\n    <img\r\n      src=\"https://assets.ccbp.in/frontend/react-js/nxt-trendz-empty-cart-img.png\"\r\n      className=\"cart-empty-img\"\r\n      alt=\"cart empty\"\r\n    />\r\n    <h1 className=\"cart-empty-heading\">Your Cart Is Empty</h1>\r\n\r\n    <Link to=\"/products\">\r\n      <button type=\"button\" className=\"shop-now-btn\">\r\n        Shop Now\r\n      </button>\r\n    </Link>\r\n  </div>\r\n);\r\n\r\nexport default EmptyCartView;\r\n","import { BsPlusSquare, BsDashSquare } from \"react-icons/bs\";\r\nimport { AiFillCloseCircle } from \"react-icons/ai\";\r\n\r\nimport CartContext from \"../../context/CartContext\";\r\n\r\nimport \"./index.css\";\r\n\r\nconst CartItem = (props) => (\r\n  <CartContext.Consumer>\r\n    {(value) => {\r\n      const {\r\n        removeCartItem,\r\n        incrementCartItemQuantity,\r\n        decrementCartItemQuantity,\r\n      } = value;\r\n      const { cartItemDetails } = props;\r\n      const { id, title, brand, quantity, price, imageUrl } = cartItemDetails;\r\n      const onClickDecrement = () => {\r\n        decrementCartItemQuantity(id);\r\n      };\r\n      const onClickIncrement = () => {\r\n        incrementCartItemQuantity(id);\r\n      };\r\n      const onRemoveCartItem = () => {\r\n        removeCartItem(id);\r\n      };\r\n      const totalPrice = price * quantity;\r\n\r\n      return (\r\n        <li className=\"cart-item\">\r\n          <img className=\"cart-product-image\" src={imageUrl} alt={title} />\r\n          <div className=\"cart-item-details-container\">\r\n            <div className=\"cart-product-title-brand-container\">\r\n              <p className=\"cart-product-title\">{title}</p>\r\n              <p className=\"cart-product-brand\">by {brand}</p>\r\n            </div>\r\n            <div className=\"cart-quantity-container\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"quantity-controller-button\"\r\n                testid=\"minus\"\r\n                onClick={onClickDecrement}\r\n              >\r\n                <BsDashSquare color=\"#52606D\" size={12} />\r\n              </button>\r\n              <p className=\"cart-quantity\">{quantity}</p>\r\n              <button\r\n                type=\"button\"\r\n                className=\"quantity-controller-button\"\r\n                testid=\"plus\"\r\n                onClick={onClickIncrement}\r\n              >\r\n                <BsPlusSquare color=\"#52606D\" size={12} />\r\n              </button>\r\n            </div>\r\n            <div className=\"total-price-remove-container\">\r\n              <p className=\"cart-total-price\">Rs {totalPrice}/-</p>\r\n              <button\r\n                className=\"remove-button\"\r\n                type=\"button\"\r\n                onClick={onRemoveCartItem}\r\n              >\r\n                Remove\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <button\r\n            className=\"delete-button\"\r\n            type=\"button\"\r\n            onClick={onRemoveCartItem}\r\n            testid=\"remove\"\r\n          >\r\n            <AiFillCloseCircle color=\"#616E7C\" size={20} />\r\n          </button>\r\n        </li>\r\n      );\r\n    }}\r\n  </CartContext.Consumer>\r\n);\r\n\r\nexport default CartItem;\r\n","import CartItem from \"../CartItem\";\r\nimport CartContext from \"../../context/CartContext\";\r\n\r\nimport \"./index.css\";\r\n\r\nconst CartListView = () => (\r\n  <CartContext.Consumer>\r\n    {(value) => {\r\n      const { cartList } = value;\r\n\r\n      return (\r\n        <ul className=\"cart-list\">\r\n          {cartList.map((eachCartItem) => (\r\n            <CartItem key={eachCartItem.id} cartItemDetails={eachCartItem} />\r\n          ))}\r\n        </ul>\r\n      );\r\n    }}\r\n  </CartContext.Consumer>\r\n);\r\n\r\nexport default CartListView;\r\n","import CartContext from \"../../context/CartContext\";\r\n\r\nimport \"./index.css\";\r\n\r\nconst CartSummary = () => (\r\n  <CartContext.Consumer>\r\n    {(value) => {\r\n      const { cartList } = value;\r\n      let total = 0;\r\n      cartList.forEach((eachCartItem) => {\r\n        total += eachCartItem.price * eachCartItem.quantity;\r\n      });\r\n\r\n      return (\r\n        <>\r\n          <div className=\"cart-summary-container\">\r\n            <h1 className=\"order-total-value\">\r\n              <span className=\"order-total-label\">Order Total:</span> Rs {total}\r\n              /-\r\n            </h1>\r\n            <p className=\"total-items\">{cartList.length} Items in cart</p>\r\n            <button type=\"button\" className=\"checkout-button d-sm-none\">\r\n              Checkout\r\n            </button>\r\n          </div>\r\n          <button type=\"button\" className=\"checkout-button d-lg-none\">\r\n            Checkout\r\n          </button>\r\n        </>\r\n      );\r\n    }}\r\n  </CartContext.Consumer>\r\n);\r\n\r\nexport default CartSummary;\r\n","import CartContext from \"../../context/CartContext\";\r\n\r\nimport Header from \"../Header\";\r\nimport EmptyCartView from \"../EmptyCartView\";\r\nimport CartListView from \"../CartListView\";\r\nimport CartSummary from \"../CartSummary\";\r\n\r\nimport \"./index.css\";\r\n\r\nconst Cart = () => (\r\n  <CartContext.Consumer>\r\n    {(value) => {\r\n      const { cartList, removeAllCartItems } = value;\r\n      const showEmptyView = cartList.length === 0;\r\n      const onClickRemoveAllBtn = () => {\r\n        removeAllCartItems();\r\n      };\r\n\r\n      return (\r\n        <>\r\n          <Header />\r\n          <div className=\"cart-container\">\r\n            {showEmptyView ? (\r\n              <EmptyCartView />\r\n            ) : (\r\n              <div className=\"cart-content-container\">\r\n                <h1 className=\"cart-heading\">My Cart</h1>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"remove-all-btn\"\r\n                  onClick={onClickRemoveAllBtn}\r\n                >\r\n                  Remove All\r\n                </button>\r\n                <CartListView />\r\n                <CartSummary />\r\n              </div>\r\n            )}\r\n          </div>\r\n        </>\r\n      );\r\n    }}\r\n  </CartContext.Consumer>\r\n);\r\n\r\nexport default Cart;\r\n","import \"./index.css\";\r\nconst NotFound = () => (\r\n  <div className=\"not-found-container\">\r\n    <img\r\n      src=\"https://assets.ccbp.in/frontend/react-js/not-found-blog-img.png\"\r\n      alt=\"not found\"\r\n      className=\"not-found-img\"\r\n    />\r\n  </div>\r\n);\r\n\r\nexport default NotFound;\r\n","import { Route, Redirect } from \"react-router-dom\";\r\nimport Cookies from \"js-cookie\";\r\n\r\nconst ProtectedRoute = (props) => {\r\n  const token = Cookies.get(\"jwt_token\");\r\n\r\n  if (token === undefined) {\r\n    return <Redirect to=\"/login\" />;\r\n  }\r\n\r\n  return <Route {...props} />;\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","import { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { BASE_URL } from \"../../constants/apiUrl\";\r\nimport \"./index.css\";\r\n\r\nclass RegistrationForm extends Component {\r\n  state = {\r\n    otp: \"\",\r\n    nameInput: \"\",\r\n    mailInput: \"\",\r\n    showNameError: false,\r\n    showMailError: false,\r\n    isFormSubmitted: false,\r\n    usernameInput: \"\",\r\n    showUserNameError: false,\r\n    passwordInput: \"\",\r\n    confirmPasswordInput: \"\",\r\n    showPasswordError: false,\r\n    showWrongOTPError: false,\r\n    showConfirmPasswordError: false,\r\n    showUserExistsError: false,\r\n    showMailExistsError: false,\r\n    isValidOtp: false,\r\n  };\r\n\r\n  sendOtp = async (mailInput) => {\r\n    const url = BASE_URL + \"otp\";\r\n    const options = {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ mailId: mailInput }),\r\n    };\r\n    const result = await fetch(url, options);\r\n    const randomOTP = await result.json();\r\n    console.log(randomOTP.otp);\r\n    this.setState({ otp: randomOTP.otp });\r\n  };\r\n\r\n  onBlurMail = async () => {\r\n    const isValidMail = this.validateMail();\r\n    let isValidMailExists = true;\r\n    if (isValidMail) {\r\n      isValidMailExists = await this.validateMailExists();\r\n    }\r\n\r\n    this.setState({\r\n      showMailError: !isValidMail,\r\n      showMailExistsError: !isValidMailExists,\r\n    });\r\n\r\n    this.setState({ showMailError: !isValidMail });\r\n  };\r\n\r\n  onChangeMail = (event) => {\r\n    const { target } = event;\r\n    const { value } = target;\r\n\r\n    this.setState({\r\n      mailInput: value,\r\n    });\r\n  };\r\n\r\n  renderMailField = () => {\r\n    const { mailInput, showMailError } = this.state;\r\n    const className = showMailError\r\n      ? \"name-input-field error-field\"\r\n      : \"name-input-field\";\r\n\r\n    return (\r\n      <div className=\"input-container\">\r\n        <label className=\"input-label\" htmlFor=\"mailId\">\r\n          Email\r\n        </label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"mailId\"\r\n          className={className}\r\n          value={mailInput}\r\n          placeholder=\"mail-id\"\r\n          onChange={this.onChangeMail}\r\n          onBlur={this.onBlurMail}\r\n        />\r\n      </div>\r\n    );\r\n  };\r\n\r\n  onBlurName = () => {\r\n    const isValidName = this.validateName();\r\n\r\n    this.setState({ showNameError: !isValidName });\r\n  };\r\n\r\n  onChangeName = (event) => {\r\n    const { target } = event;\r\n    const { value } = target;\r\n\r\n    this.setState({\r\n      nameInput: value,\r\n    });\r\n  };\r\n\r\n  onChangeUserName = (event) => {\r\n    const { value } = event.target;\r\n    this.setState({ usernameInput: value });\r\n  };\r\n  onBlurUserName = async (event) => {\r\n    const isValidUserName = this.validateUserName();\r\n    let isValidUserExists = true;\r\n    if (isValidUserName) {\r\n      isValidUserExists = await this.validateUserExists();\r\n    }\r\n\r\n    this.setState({\r\n      showUserNameError: !isValidUserName,\r\n      showUserExistsError: !isValidUserExists,\r\n    });\r\n  };\r\n  onChangePassword = (event) => {\r\n    const { value } = event.target;\r\n    this.setState({ passwordInput: value });\r\n  };\r\n  onBlurPassword = (event) => {\r\n    const isValidPassword = this.validatePassword();\r\n    this.setState({ showPasswordError: !isValidPassword });\r\n  };\r\n\r\n  onChangeConfirmPassword = (event) => {\r\n    const { value } = event.target;\r\n    this.setState({ confirmPasswordInput: value });\r\n  };\r\n  onBlurConfirmPassword = (event) => {\r\n    const isValidConfirmPassword = this.validateConfirmPassword();\r\n    this.setState({ showConfirmPasswordError: !isValidConfirmPassword });\r\n  };\r\n\r\n  renderNameField = () => {\r\n    const { nameInput, showNameError } = this.state;\r\n    const className = showNameError\r\n      ? \"name-input-field error-field\"\r\n      : \"name-input-field\";\r\n\r\n    return (\r\n      <div className=\"input-container\">\r\n        <label className=\"input-label\" htmlFor=\"name\">\r\n          NAME\r\n        </label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"name\"\r\n          className={className}\r\n          value={nameInput}\r\n          placeholder=\"Your Name\"\r\n          onChange={this.onChangeName}\r\n          onBlur={this.onBlurName}\r\n        />\r\n      </div>\r\n    );\r\n  };\r\n\r\n  renderUserNameField = () => {\r\n    const { usernameInput, showUserNameError, showUserExistsError } =\r\n      this.state;\r\n    const className =\r\n      showUserNameError || showUserExistsError\r\n        ? \"name-input-field error-field\"\r\n        : \"name-input-field\";\r\n    return (\r\n      <div className=\"input-container\">\r\n        <label className=\"input-label\" htmlFor=\"username\">\r\n          USERNAME\r\n        </label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"username\"\r\n          className={className}\r\n          value={usernameInput}\r\n          placeholder=\"Username\"\r\n          onChange={this.onChangeUserName}\r\n          onBlur={this.onBlurUserName}\r\n        />\r\n      </div>\r\n    );\r\n  };\r\n  renderPasswordField = () => {\r\n    const { passwordInput, showPasswordError } = this.state;\r\n    const className = showPasswordError\r\n      ? \"name-input-field error-field\"\r\n      : \"name-input-field\";\r\n    return (\r\n      <div className=\"input-container\">\r\n        <label className=\"input-label\" htmlFor=\"password\">\r\n          Password\r\n        </label>\r\n        <input\r\n          type=\"password\"\r\n          id=\"password\"\r\n          className={className}\r\n          value={passwordInput}\r\n          placeholder=\"Password\"\r\n          onChange={this.onChangePassword}\r\n          onBlur={this.onBlurPassword}\r\n        />\r\n      </div>\r\n    );\r\n  };\r\n\r\n  renderConfirmPasswordField = () => {\r\n    const { confirmPasswordInput, showConfirmPasswordError } = this.state;\r\n    const className = showConfirmPasswordError\r\n      ? \"name-input-field error-field\"\r\n      : \"name-input-field\";\r\n    return (\r\n      <div className=\"input-container\">\r\n        <label className=\"input-label\" htmlFor=\"confirmPassword\">\r\n          Confirm Password\r\n        </label>\r\n        <input\r\n          type=\"password\"\r\n          id=\"confirmPassword\"\r\n          className={className}\r\n          value={confirmPasswordInput}\r\n          placeholder=\"\"\r\n          onChange={this.onChangeConfirmPassword}\r\n          onBlur={this.onBlurConfirmPassword}\r\n        />\r\n      </div>\r\n    );\r\n  };\r\n\r\n  validateMail = () => {\r\n    const { mailInput } = this.state;\r\n\r\n    return mailInput !== \"\";\r\n  };\r\n  validateMailExists = async () => {\r\n    const { mailInput } = this.state;\r\n    const url = BASE_URL + \"userDetails/mails/\" + mailInput;\r\n    const options = {\r\n      method: \"GET\",\r\n    };\r\n    let result = await fetch(url, options);\r\n    let data = await result.json();\r\n    return data.length === 0;\r\n  };\r\n\r\n  validateName = () => {\r\n    const { nameInput } = this.state;\r\n\r\n    return nameInput !== \"\";\r\n  };\r\n  validateUserName = () => {\r\n    const { usernameInput } = this.state;\r\n    return usernameInput !== \"\";\r\n  };\r\n  validateUserExists = async () => {\r\n    const { usernameInput } = this.state;\r\n    const url = BASE_URL + \"userDetails/\" + usernameInput;\r\n    const options = {\r\n      method: \"GET\",\r\n    };\r\n    let result = await fetch(url, options);\r\n    let data = await result.json();\r\n    return data.length === 0;\r\n  };\r\n  validatePassword = () => {\r\n    const numbers = \"0123456789\";\r\n    const { passwordInput } = this.state;\r\n    let isDigit = false;\r\n    let isChar = false;\r\n    let isSpecial = false;\r\n    for (let i = 0; i < passwordInput.length; i++) {\r\n      if (passwordInput[i].toLowerCase() !== passwordInput[i].toUpperCase()) {\r\n        isChar = true;\r\n      } else if (numbers.includes(passwordInput[i])) {\r\n        isDigit = true;\r\n      } else {\r\n        isSpecial = true;\r\n      }\r\n    }\r\n    if (isDigit && isChar && isSpecial) {\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n  validateConfirmPassword = () => {\r\n    const { passwordInput, confirmPasswordInput } = this.state;\r\n    return passwordInput === confirmPasswordInput;\r\n  };\r\n  validateOtp = async (event) => {\r\n    const { otp } = this.state;\r\n    const value = document.getElementById(\"otp\").value;\r\n    console.log(\"startedotp\", otp, value, \"otpgen\");\r\n    if (otp === parseInt(value)) {\r\n      const { usernameInput, nameInput, mailInput, passwordInput } = this.state;\r\n      const userDetails = {\r\n        username: usernameInput,\r\n        mailId: mailInput,\r\n        name: nameInput,\r\n        password: passwordInput,\r\n      };\r\n      const url = BASE_URL + \"register/\";\r\n      const options = {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(userDetails),\r\n      };\r\n      await fetch(url, options);\r\n\r\n      this.setState({ isValidOtp: true, showWrongOTPError: true });\r\n    } else {\r\n      this.setState({ showWrongOTPError: true });\r\n    }\r\n  };\r\n  sendAndValidateOTP = async (event) => {\r\n    document.getElementById(\"otp\").value = \"\";\r\n    const { mailInput } = this.state;\r\n    this.sendOtp(mailInput);\r\n    this.setState({ showWrongOTPError: false });\r\n  };\r\n  onSubmitForm = async (event) => {\r\n    event.preventDefault();\r\n    const { mailInput } = this.state;\r\n    const isValidName = this.validateName();\r\n    const isValidMail = this.validateMail();\r\n    const isValidUserName = this.validateUserName();\r\n    const isValidPassword = this.validatePassword();\r\n    const isValidConfirmPassword = this.validateConfirmPassword();\r\n    const isValidUserExists = await this.validateUserExists();\r\n\r\n    if (\r\n      isValidUserExists &&\r\n      isValidName &&\r\n      isValidMail &&\r\n      isValidUserName &&\r\n      isValidPassword &&\r\n      isValidConfirmPassword\r\n    ) {\r\n      this.sendOtp(mailInput);\r\n\r\n      this.setState({ isFormSubmitted: true });\r\n    } else {\r\n      this.setState({\r\n        showNameError: !isValidName,\r\n        showMailError: !isValidMail,\r\n        showUserNameError: !isValidUserName,\r\n        showPasswordError: !isValidPassword,\r\n        showConfirmPasswordError: !isValidConfirmPassword,\r\n        showUserExistsError: !isValidUserExists,\r\n        isFormSubmitted: false,\r\n      });\r\n    }\r\n  };\r\n\r\n  renderRegistrationForm = () => {\r\n    const {\r\n      showNameError,\r\n      showMailError,\r\n      showUserNameError,\r\n      showPasswordError,\r\n      showConfirmPasswordError,\r\n      showUserExistsError,\r\n      showMailExistsError,\r\n    } = this.state;\r\n\r\n    return (\r\n      <form className=\"form-container\" onSubmit={this.onSubmitForm}>\r\n        {this.renderNameField()}\r\n        {showNameError && <p className=\"error-message\">Required</p>}\r\n        {this.renderMailField()}\r\n        {showMailError && <p className=\"error-message\">Required</p>}\r\n        {showMailExistsError && (\r\n          <p className=\"error-message\">Mail Already Exists</p>\r\n        )}\r\n        {this.renderUserNameField()}\r\n        {showUserNameError && <p className=\"error-message\">Required</p>}\r\n        {showUserExistsError && (\r\n          <p className=\"error-message\">Username already exists</p>\r\n        )}\r\n        {this.renderPasswordField()}\r\n        {showPasswordError && (\r\n          <p className=\"error-message\">\r\n            Password should consist of atleast one digit,letter and one special\r\n            character\r\n          </p>\r\n        )}\r\n        {this.renderConfirmPasswordField()}\r\n        {showConfirmPasswordError && (\r\n          <p className=\"error-message\">Passwords didn't match</p>\r\n        )}\r\n        <button type=\"submit\" className=\"submit-button\">\r\n          Next\r\n        </button>\r\n      </form>\r\n    );\r\n  };\r\n\r\n  renderOtpPage = () => {\r\n    const { mailInput, showWrongOTPError } = this.state;\r\n\r\n    let res = \"\";\r\n    for (let i = 0; i < mailInput.length; i++) {\r\n      if (mailInput[i] === \"@\") {\r\n        break;\r\n      }\r\n      res = res + mailInput[i];\r\n    }\r\n    console.log(mailInput, res);\r\n    const mailLength = res.length;\r\n    const otpText =\r\n      \"We have sent you an OTP to \" +\r\n      \"***\" +\r\n      res.slice(mailLength - 3, mailLength) +\r\n      \"@gmail.com\";\r\n    return (\r\n      <div className=\"input-container\">\r\n        <div>\r\n          <p className=\"input-label\" style={{ fontSize: \"15px\" }}>\r\n            {otpText}\r\n          </p>\r\n        </div>\r\n        <input\r\n          type=\"text\"\r\n          id=\"otp\"\r\n          className=\"name-input-field\"\r\n          placeholder=\"Enter the OTP\"\r\n        />\r\n        {showWrongOTPError && (\r\n          <p className=\"error-message\">You have entered the OTP wrong </p>\r\n        )}\r\n        <button\r\n          type=\"button\"\r\n          className=\"submit-button\"\r\n          onClick={this.validateOtp}\r\n        >\r\n          Verify\r\n        </button>\r\n        {showWrongOTPError && (\r\n          <p\r\n            style={{ cursor: \"pointer\" }}\r\n            className=\"error-message\"\r\n            onClick={this.sendAndValidateOTP}\r\n          >\r\n            Resend Code ?\r\n          </p>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  onClickSubmitAnotherResponse = () => {\r\n    this.setState((prevState) => ({\r\n      isFormSubmitted: !prevState.isFormSubmitted,\r\n      nameInput: \"\",\r\n      mailInput: \"\",\r\n      passwordInput: \"\",\r\n      confirmPasswordInput: \"\",\r\n      usernameInput: \"\",\r\n    }));\r\n  };\r\n\r\n  renderSubmissionSuccessView = () => {\r\n    alert(\"Successfully Created\");\r\n    return (\r\n      <>\r\n        <img\r\n          src=\"https://assets.ccbp.in/frontend/react-js/success-icon-img.png\"\r\n          alt=\"success\"\r\n          className=\"success-image\"\r\n        />\r\n        <p>Account Created Successfully</p>\r\n        <Link\r\n          to=\"/login\"\r\n          type=\"button\"\r\n          className=\"submit-button\"\r\n          onClick={this.onClickSubmitAnotherResponse}\r\n        >\r\n          Login\r\n        </Link>\r\n      </>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { isFormSubmitted, isValidOtp } = this.state;\r\n\r\n    return (\r\n      <div className=\"registration-form-container\">\r\n        <h1 className=\"form-title\">Registration</h1>\r\n        <div className=\"view-container\">\r\n          {isFormSubmitted\r\n            ? isValidOtp\r\n              ? this.renderSubmissionSuccessView()\r\n              : this.renderOtpPage()\r\n            : this.renderRegistrationForm()}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default RegistrationForm;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { HashRouter } from \"react-router-dom\";\nimport App from \"./App\";\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter basename={process.env.PUBLIC_URL}>\n      <App />\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}